29-11-2023 10:41:58.160 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 73779 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 10:41:58.168 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 10:41:59.164 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 10:41:59.259 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 82 ms. Found 3 JPA repository interfaces.
29-11-2023 10:41:59.935 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 10:41:59.950 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 10:41:59.950 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 10:42:00.053 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 10:42:00.054 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1702 ms
29-11-2023 10:42:00.087 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 10:42:00.415 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 10:42:00.417 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 10:42:00.431 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 10:42:00.674 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 10:42:00.908 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:42:00.911 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:42:00.916 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:42:00.918 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:42:00.923 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:42:00.923 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 10:42:00.938 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 10:42:00.942 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:42:00.943 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 10:42:00.946 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:42:00.947 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:42:01.024 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:42:01.025 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 26ms
29-11-2023 10:42:01.028 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:42:01.029 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:42:01.033 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:42:01.033 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 3ms
29-11-2023 10:42:01.035 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:42:01.038 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:42:01.039 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 3ms
29-11-2023 10:42:01.040 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:42:01.041 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 10:42:01.043 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:42:01.043 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 10:42:01.141 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 10:42:01.243 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 10:42:01.246 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 10:42:01.652 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 10:42:01.721 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 10:42:02.860 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 10:42:02.903 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 10:42:03.387 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 10:42:03.814 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 10:42:03.823 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 6.534 seconds (process running for 7.764)
29-11-2023 10:43:16.339 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 10:43:16.342 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 10:43:16.348 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 6 ms
29-11-2023 10:45:04.234 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:45:04.510 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:45:04.521 [http-nio-8080-exec-4] ERROR c.e.c.e.ExceptionResolver.transactionNotFoundException - com.example.cryptoservice.exception_resolver.TransactionNotFoundException
29-11-2023 10:45:08.376 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:45:08.383 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:45:08.384 [http-nio-8080-exec-5] ERROR c.e.c.e.ExceptionResolver.transactionNotFoundException - com.example.cryptoservice.exception_resolver.TransactionNotFoundException
29-11-2023 10:45:10.276 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:45:10.279 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:45:10.280 [http-nio-8080-exec-6] ERROR c.e.c.e.ExceptionResolver.transactionNotFoundException - com.example.cryptoservice.exception_resolver.TransactionNotFoundException
29-11-2023 10:45:15.836 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:45:15.838 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:45:15.839 [http-nio-8080-exec-7] ERROR c.e.c.e.ExceptionResolver.transactionNotFoundException - com.example.cryptoservice.exception_resolver.TransactionNotFoundException
29-11-2023 10:45:18.020 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:45:18.023 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:45:18.024 [http-nio-8080-exec-8] ERROR c.e.c.e.ExceptionResolver.transactionNotFoundException - com.example.cryptoservice.exception_resolver.TransactionNotFoundException
29-11-2023 10:45:19.633 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:45:19.637 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:45:19.638 [http-nio-8080-exec-9] ERROR c.e.c.e.ExceptionResolver.transactionNotFoundException - com.example.cryptoservice.exception_resolver.TransactionNotFoundException
29-11-2023 10:45:33.931 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:45:33.934 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:45:33.935 [http-nio-8080-exec-10] ERROR c.e.c.e.ExceptionResolver.transactionNotFoundException - com.example.cryptoservice.exception_resolver.TransactionNotFoundException
29-11-2023 10:45:41.430 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:45:41.432 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:45:41.433 [http-nio-8080-exec-1] ERROR c.e.c.e.ExceptionResolver.transactionNotFoundException - com.example.cryptoservice.exception_resolver.TransactionNotFoundException
29-11-2023 10:45:44.771 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:45:44.774 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:45:44.775 [http-nio-8080-exec-3] ERROR c.e.c.e.ExceptionResolver.transactionNotFoundException - com.example.cryptoservice.exception_resolver.TransactionNotFoundException
29-11-2023 10:45:46.098 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:45:46.101 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:45:46.104 [http-nio-8080-exec-4] ERROR c.e.c.e.ExceptionResolver.transactionNotFoundException - com.example.cryptoservice.exception_resolver.TransactionNotFoundException
29-11-2023 10:45:47.184 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:45:47.187 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:45:47.188 [http-nio-8080-exec-5] ERROR c.e.c.e.ExceptionResolver.transactionNotFoundException - com.example.cryptoservice.exception_resolver.TransactionNotFoundException
29-11-2023 10:49:28.845 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 73916 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 10:49:28.848 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 10:49:29.589 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 10:49:29.661 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 61 ms. Found 3 JPA repository interfaces.
29-11-2023 10:49:30.281 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 10:49:30.293 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 10:49:30.294 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 10:49:30.373 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 10:49:30.374 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1477 ms
29-11-2023 10:49:30.400 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 10:49:30.743 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 10:49:30.745 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 10:49:30.754 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 10:49:30.956 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 10:49:31.186 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:49:31.190 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:49:31.194 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:49:31.197 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:49:31.201 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:49:31.202 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 10:49:31.213 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 10:49:31.216 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:49:31.217 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 10:49:31.219 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:49:31.220 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:49:31.274 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:49:31.275 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 25ms
29-11-2023 10:49:31.279 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:49:31.280 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:49:31.283 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:49:31.284 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 2ms
29-11-2023 10:49:31.285 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:49:31.289 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:49:31.290 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 3ms
29-11-2023 10:49:31.291 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:49:31.294 [main] ERROR liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll encountered an exception.
29-11-2023 10:49:31.294 [main] INFO  liquibase.log - Update command encountered an exception.
29-11-2023 10:49:31.296 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:49:31.296 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 10:49:31.297 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext.refresh - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/add-transactions.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Синтаксическая ошибка в выражении SQL "insert into transactions (account_id, amount, transaction_type, [*])\000avalues (1, 100, 'TRANSFER');\000a\000ainsert into transactions (account_id, amount, transaction_type, )\000avalues (2, 50, 'TRANSFER');"; ожидалось "identifier"
Syntax error in SQL statement "insert into transactions (account_id, amount, transaction_type, [*])\000avalues (1, 100, 'TRANSFER');\000a\000ainsert into transactions (account_id, amount, transaction_type, )\000avalues (2, 50, 'TRANSFER');"; expected "identifier"; SQL statement:
insert into transactions (account_id, amount, transaction_type, )
values (1, 100, 'TRANSFER');

insert into transactions (account_id, amount, transaction_type, )
values (2, 50, 'TRANSFER'); [42001-214] [Failed SQL: (42001) insert into transactions (account_id, amount, transaction_type, )
values (1, 100, 'TRANSFER');

insert into transactions (account_id, amount, transaction_type, )
values (2, 50, 'TRANSFER');]
29-11-2023 10:49:31.298 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 10:49:31.299 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 10:49:31.302 [main] INFO  o.a.catalina.core.StandardService.log - Stopping service [Tomcat]
29-11-2023 10:49:31.311 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger.logMessage - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
29-11-2023 10:49:31.330 [main] ERROR o.s.boot.SpringApplication.reportFailure - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/add-transactions.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Синтаксическая ошибка в выражении SQL "insert into transactions (account_id, amount, transaction_type, [*])\000avalues (1, 100, 'TRANSFER');\000a\000ainsert into transactions (account_id, amount, transaction_type, )\000avalues (2, 50, 'TRANSFER');"; ожидалось "identifier"
Syntax error in SQL statement "insert into transactions (account_id, amount, transaction_type, [*])\000avalues (1, 100, 'TRANSFER');\000a\000ainsert into transactions (account_id, amount, transaction_type, )\000avalues (2, 50, 'TRANSFER');"; expected "identifier"; SQL statement:
insert into transactions (account_id, amount, transaction_type, )
values (1, 100, 'TRANSFER');

insert into transactions (account_id, amount, transaction_type, )
values (2, 50, 'TRANSFER'); [42001-214] [Failed SQL: (42001) insert into transactions (account_id, amount, transaction_type, )
values (1, 100, 'TRANSFER');

insert into transactions (account_id, amount, transaction_type, )
values (2, 50, 'TRANSFER');]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.cryptoservice.CryptoServiceApplication.main(CryptoServiceApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/add-transactions.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Синтаксическая ошибка в выражении SQL "insert into transactions (account_id, amount, transaction_type, [*])\000avalues (1, 100, 'TRANSFER');\000a\000ainsert into transactions (account_id, amount, transaction_type, )\000avalues (2, 50, 'TRANSFER');"; ожидалось "identifier"
Syntax error in SQL statement "insert into transactions (account_id, amount, transaction_type, [*])\000avalues (1, 100, 'TRANSFER');\000a\000ainsert into transactions (account_id, amount, transaction_type, )\000avalues (2, 50, 'TRANSFER');"; expected "identifier"; SQL statement:
insert into transactions (account_id, amount, transaction_type, )
values (1, 100, 'TRANSFER');

insert into transactions (account_id, amount, transaction_type, )
values (2, 50, 'TRANSFER'); [42001-214] [Failed SQL: (42001) insert into transactions (account_id, amount, transaction_type, )
values (1, 100, 'TRANSFER');

insert into transactions (account_id, amount, transaction_type, )
values (2, 50, 'TRANSFER');]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:136)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:297)
	at liquibase.Scope.lambda$child$0(Scope.java:187)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:186)
	at liquibase.Scope.child(Scope.java:165)
	at liquibase.Scope.child(Scope.java:256)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:295)
	at liquibase.Scope.lambda$child$0(Scope.java:187)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:186)
	at liquibase.Scope.child(Scope.java:165)
	at liquibase.Liquibase.runInScope(Liquibase.java:2639)
	at liquibase.Liquibase.update(Liquibase.java:236)
	at liquibase.Liquibase.update(Liquibase.java:221)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/add-transactions.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Синтаксическая ошибка в выражении SQL "insert into transactions (account_id, amount, transaction_type, [*])\000avalues (1, 100, 'TRANSFER');\000a\000ainsert into transactions (account_id, amount, transaction_type, )\000avalues (2, 50, 'TRANSFER');"; ожидалось "identifier"
Syntax error in SQL statement "insert into transactions (account_id, amount, transaction_type, [*])\000avalues (1, 100, 'TRANSFER');\000a\000ainsert into transactions (account_id, amount, transaction_type, )\000avalues (2, 50, 'TRANSFER');"; expected "identifier"; SQL statement:
insert into transactions (account_id, amount, transaction_type, )
values (1, 100, 'TRANSFER');

insert into transactions (account_id, amount, transaction_type, )
values (2, 50, 'TRANSFER'); [42001-214] [Failed SQL: (42001) insert into transactions (account_id, amount, transaction_type, )
values (1, 100, 'TRANSFER');

insert into transactions (account_id, amount, transaction_type, )
values (2, 50, 'TRANSFER');]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:744)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:59)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:124)
	at liquibase.Scope.lambda$child$0(Scope.java:187)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:186)
	at liquibase.Scope.child(Scope.java:165)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:124)
	at liquibase.Scope.lambda$child$0(Scope.java:187)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:186)
	at liquibase.Scope.child(Scope.java:165)
	at liquibase.Scope.child(Scope.java:256)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:105)
	at liquibase.Scope.lambda$child$0(Scope.java:187)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:186)
	at liquibase.Scope.child(Scope.java:165)
	at liquibase.Scope.child(Scope.java:256)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:75)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Синтаксическая ошибка в выражении SQL "insert into transactions (account_id, amount, transaction_type, [*])\000avalues (1, 100, 'TRANSFER');\000a\000ainsert into transactions (account_id, amount, transaction_type, )\000avalues (2, 50, 'TRANSFER');"; ожидалось "identifier"
Syntax error in SQL statement "insert into transactions (account_id, amount, transaction_type, [*])\000avalues (1, 100, 'TRANSFER');\000a\000ainsert into transactions (account_id, amount, transaction_type, )\000avalues (2, 50, 'TRANSFER');"; expected "identifier"; SQL statement:
insert into transactions (account_id, amount, transaction_type, )
values (1, 100, 'TRANSFER');

insert into transactions (account_id, amount, transaction_type, )
values (2, 50, 'TRANSFER'); [42001-214] [Failed SQL: (42001) insert into transactions (account_id, amount, transaction_type, )
values (1, 100, 'TRANSFER');

insert into transactions (account_id, amount, transaction_type, )
values (2, 50, 'TRANSFER');]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:702)
	... 56 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Синтаксическая ошибка в выражении SQL "insert into transactions (account_id, amount, transaction_type, [*])\000avalues (1, 100, 'TRANSFER');\000a\000ainsert into transactions (account_id, amount, transaction_type, )\000avalues (2, 50, 'TRANSFER');"; ожидалось "identifier"
Syntax error in SQL statement "insert into transactions (account_id, amount, transaction_type, [*])\000avalues (1, 100, 'TRANSFER');\000a\000ainsert into transactions (account_id, amount, transaction_type, )\000avalues (2, 50, 'TRANSFER');"; expected "identifier"; SQL statement:
insert into transactions (account_id, amount, transaction_type, )
values (1, 100, 'TRANSFER');

insert into transactions (account_id, amount, transaction_type, )
values (2, 50, 'TRANSFER'); [42001-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.getSyntaxError(DbException.java:261)
	at org.h2.command.Parser.readIdentifier(Parser.java:5656)
	at org.h2.command.Parser.parseColumn(Parser.java:1256)
	at org.h2.command.Parser.parseColumnList(Parser.java:1241)
	at org.h2.command.Parser.parseInsert(Parser.java:1641)
	at org.h2.command.Parser.parsePrepared(Parser.java:814)
	at org.h2.command.Parser.parse(Parser.java:689)
	at org.h2.command.Parser.parse(Parser.java:661)
	at org.h2.command.Parser.prepareCommand(Parser.java:569)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441)
	... 61 common frames omitted
29-11-2023 10:52:10.402 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 73937 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 10:52:10.405 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 10:52:11.239 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 10:52:11.319 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 67 ms. Found 3 JPA repository interfaces.
29-11-2023 10:52:11.920 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 10:52:11.934 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 10:52:11.934 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 10:52:12.030 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 10:52:12.031 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1532 ms
29-11-2023 10:52:12.057 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 10:52:12.398 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 10:52:12.400 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 10:52:12.411 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 10:52:12.590 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 10:52:12.847 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:12.849 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:12.853 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:12.856 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:12.860 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:12.861 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 10:52:12.870 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 10:52:12.874 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:12.875 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 10:52:12.877 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:12.878 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:12.931 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:52:12.931 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 25ms
29-11-2023 10:52:12.935 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:12.936 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:12.940 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:52:12.940 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 3ms
29-11-2023 10:52:12.941 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:12.945 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:52:12.946 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 3ms
29-11-2023 10:52:12.947 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:12.950 [main] ERROR liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll encountered an exception.
29-11-2023 10:52:12.951 [main] INFO  liquibase.log - Update command encountered an exception.
29-11-2023 10:52:12.952 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:12.953 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 10:52:12.954 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext.refresh - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/add-transactions.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Нарушение ссылочной целостности: "CONSTRAINT_FE: PUBLIC.TRANSACTIONS FOREIGN KEY(ACCOUNT_ID) REFERENCES PUBLIC.ACCOUNTS(ID) (CAST(50 AS BIGINT))"
Referential integrity constraint violation: "CONSTRAINT_FE: PUBLIC.TRANSACTIONS FOREIGN KEY(ACCOUNT_ID) REFERENCES PUBLIC.ACCOUNTS(ID) (CAST(50 AS BIGINT))"; SQL statement:
insert into transactions (account_id, amount, transaction_type)
values (1, 100, 'TRANSFER') [23506-214] [Failed SQL: (23506) insert into transactions (account_id, amount, transaction_type)
values (1, 100, 'TRANSFER');

insert into transactions (amount, account_id, transaction_type)
values (2, 50, 'TRANSFER');]
29-11-2023 10:52:12.954 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 10:52:12.956 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 10:52:12.959 [main] INFO  o.a.catalina.core.StandardService.log - Stopping service [Tomcat]
29-11-2023 10:52:12.968 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger.logMessage - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
29-11-2023 10:52:12.991 [main] ERROR o.s.boot.SpringApplication.reportFailure - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/add-transactions.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Нарушение ссылочной целостности: "CONSTRAINT_FE: PUBLIC.TRANSACTIONS FOREIGN KEY(ACCOUNT_ID) REFERENCES PUBLIC.ACCOUNTS(ID) (CAST(50 AS BIGINT))"
Referential integrity constraint violation: "CONSTRAINT_FE: PUBLIC.TRANSACTIONS FOREIGN KEY(ACCOUNT_ID) REFERENCES PUBLIC.ACCOUNTS(ID) (CAST(50 AS BIGINT))"; SQL statement:
insert into transactions (account_id, amount, transaction_type)
values (1, 100, 'TRANSFER') [23506-214] [Failed SQL: (23506) insert into transactions (account_id, amount, transaction_type)
values (1, 100, 'TRANSFER');

insert into transactions (amount, account_id, transaction_type)
values (2, 50, 'TRANSFER');]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.cryptoservice.CryptoServiceApplication.main(CryptoServiceApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/add-transactions.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Нарушение ссылочной целостности: "CONSTRAINT_FE: PUBLIC.TRANSACTIONS FOREIGN KEY(ACCOUNT_ID) REFERENCES PUBLIC.ACCOUNTS(ID) (CAST(50 AS BIGINT))"
Referential integrity constraint violation: "CONSTRAINT_FE: PUBLIC.TRANSACTIONS FOREIGN KEY(ACCOUNT_ID) REFERENCES PUBLIC.ACCOUNTS(ID) (CAST(50 AS BIGINT))"; SQL statement:
insert into transactions (account_id, amount, transaction_type)
values (1, 100, 'TRANSFER') [23506-214] [Failed SQL: (23506) insert into transactions (account_id, amount, transaction_type)
values (1, 100, 'TRANSFER');

insert into transactions (amount, account_id, transaction_type)
values (2, 50, 'TRANSFER');]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:136)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:297)
	at liquibase.Scope.lambda$child$0(Scope.java:187)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:186)
	at liquibase.Scope.child(Scope.java:165)
	at liquibase.Scope.child(Scope.java:256)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:295)
	at liquibase.Scope.lambda$child$0(Scope.java:187)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:186)
	at liquibase.Scope.child(Scope.java:165)
	at liquibase.Liquibase.runInScope(Liquibase.java:2639)
	at liquibase.Liquibase.update(Liquibase.java:236)
	at liquibase.Liquibase.update(Liquibase.java:221)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/add-transactions.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Нарушение ссылочной целостности: "CONSTRAINT_FE: PUBLIC.TRANSACTIONS FOREIGN KEY(ACCOUNT_ID) REFERENCES PUBLIC.ACCOUNTS(ID) (CAST(50 AS BIGINT))"
Referential integrity constraint violation: "CONSTRAINT_FE: PUBLIC.TRANSACTIONS FOREIGN KEY(ACCOUNT_ID) REFERENCES PUBLIC.ACCOUNTS(ID) (CAST(50 AS BIGINT))"; SQL statement:
insert into transactions (account_id, amount, transaction_type)
values (1, 100, 'TRANSFER') [23506-214] [Failed SQL: (23506) insert into transactions (account_id, amount, transaction_type)
values (1, 100, 'TRANSFER');

insert into transactions (amount, account_id, transaction_type)
values (2, 50, 'TRANSFER');]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:744)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:59)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:124)
	at liquibase.Scope.lambda$child$0(Scope.java:187)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:186)
	at liquibase.Scope.child(Scope.java:165)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:124)
	at liquibase.Scope.lambda$child$0(Scope.java:187)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:186)
	at liquibase.Scope.child(Scope.java:165)
	at liquibase.Scope.child(Scope.java:256)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:105)
	at liquibase.Scope.lambda$child$0(Scope.java:187)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:186)
	at liquibase.Scope.child(Scope.java:165)
	at liquibase.Scope.child(Scope.java:256)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:75)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Нарушение ссылочной целостности: "CONSTRAINT_FE: PUBLIC.TRANSACTIONS FOREIGN KEY(ACCOUNT_ID) REFERENCES PUBLIC.ACCOUNTS(ID) (CAST(50 AS BIGINT))"
Referential integrity constraint violation: "CONSTRAINT_FE: PUBLIC.TRANSACTIONS FOREIGN KEY(ACCOUNT_ID) REFERENCES PUBLIC.ACCOUNTS(ID) (CAST(50 AS BIGINT))"; SQL statement:
insert into transactions (account_id, amount, transaction_type)
values (1, 100, 'TRANSFER') [23506-214] [Failed SQL: (23506) insert into transactions (account_id, amount, transaction_type)
values (1, 100, 'TRANSFER');

insert into transactions (amount, account_id, transaction_type)
values (2, 50, 'TRANSFER');]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:702)
	... 56 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Нарушение ссылочной целостности: "CONSTRAINT_FE: PUBLIC.TRANSACTIONS FOREIGN KEY(ACCOUNT_ID) REFERENCES PUBLIC.ACCOUNTS(ID) (CAST(50 AS BIGINT))"
Referential integrity constraint violation: "CONSTRAINT_FE: PUBLIC.TRANSACTIONS FOREIGN KEY(ACCOUNT_ID) REFERENCES PUBLIC.ACCOUNTS(ID) (CAST(50 AS BIGINT))"; SQL statement:
insert into transactions (account_id, amount, transaction_type)
values (1, 100, 'TRANSFER') [23506-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:508)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRowOwnTable(ConstraintReferential.java:311)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:252)
	at org.h2.table.Table.fireConstraints(Table.java:1172)
	at org.h2.table.Table.fireAfterRow(Table.java:1190)
	at org.h2.command.dml.Insert.insertRows(Insert.java:188)
	at org.h2.command.dml.Insert.update(Insert.java:135)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandList.executeRemaining(CommandList.java:49)
	at org.h2.command.CommandList.update(CommandList.java:66)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441)
	... 61 common frames omitted
29-11-2023 10:52:56.153 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 73948 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 10:52:56.156 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 10:52:57.007 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 10:52:57.091 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 72 ms. Found 3 JPA repository interfaces.
29-11-2023 10:52:57.683 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 10:52:57.694 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 10:52:57.695 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 10:52:57.774 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 10:52:57.775 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1541 ms
29-11-2023 10:52:57.798 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 10:52:58.150 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 10:52:58.151 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 10:52:58.164 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 10:52:58.346 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 10:52:58.578 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:58.581 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:58.585 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:58.587 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:58.592 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:58.592 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 10:52:58.602 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 10:52:58.606 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:58.607 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 10:52:58.609 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:58.610 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:58.663 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:52:58.664 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 23ms
29-11-2023 10:52:58.668 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:58.669 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:58.672 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:52:58.673 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 2ms
29-11-2023 10:52:58.674 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:58.677 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:52:58.678 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 3ms
29-11-2023 10:52:58.679 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:58.681 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:52:58.682 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 2ms
29-11-2023 10:52:58.683 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:58.683 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 10:52:58.685 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:52:58.686 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 10:52:58.772 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 10:52:58.848 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 10:52:58.852 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 10:52:59.243 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 10:52:59.303 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 10:53:00.291 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 10:53:00.325 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 10:53:00.782 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 10:53:01.123 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 10:53:01.130 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 5.586 seconds (process running for 6.441)
29-11-2023 10:53:45.999 [http-nio-8080-exec-6] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 10:53:46.000 [http-nio-8080-exec-6] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 10:53:46.001 [http-nio-8080-exec-6] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 1 ms
29-11-2023 10:53:46.152 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:53:46.277 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:53:46.298 [http-nio-8080-exec-6] ERROR c.e.c.e.ExceptionResolver.transactionNotFoundException - com.example.cryptoservice.exception_resolver.TransactionNotFoundException
29-11-2023 10:53:49.750 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:53:49.755 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:53:49.756 [http-nio-8080-exec-7] ERROR c.e.c.e.ExceptionResolver.transactionNotFoundException - com.example.cryptoservice.exception_resolver.TransactionNotFoundException
29-11-2023 10:53:52.139 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:53:52.142 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:53:52.153 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 10:54:08.772 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 10:54:08.776 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 10:54:08.779 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 10:54:25.217 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 73967 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 10:54:25.220 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 10:54:25.948 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 10:54:26.025 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 65 ms. Found 3 JPA repository interfaces.
29-11-2023 10:54:26.610 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 10:54:26.622 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 10:54:26.622 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 10:54:26.701 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 10:54:26.702 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1421 ms
29-11-2023 10:54:26.727 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 10:54:27.065 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 10:54:27.067 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 10:54:27.079 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 10:54:27.263 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 10:54:27.489 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:27.492 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:27.496 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:27.499 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:27.503 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:27.503 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 10:54:27.513 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 10:54:27.517 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:27.519 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 10:54:27.521 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:27.522 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:27.576 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:54:27.577 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 26ms
29-11-2023 10:54:27.581 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:27.582 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:27.586 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:54:27.586 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 3ms
29-11-2023 10:54:27.587 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:27.591 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:54:27.591 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 3ms
29-11-2023 10:54:27.592 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:27.595 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:54:27.596 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 2ms
29-11-2023 10:54:27.597 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:27.597 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 10:54:27.599 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:27.599 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 10:54:27.677 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 10:54:27.760 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 10:54:27.769 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 10:54:28.158 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 10:54:28.212 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 10:54:29.303 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 10:54:29.344 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 10:54:29.784 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 10:54:30.133 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 10:54:30.140 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 5.473 seconds (process running for 6.361)
29-11-2023 10:54:35.092 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 10:54:35.093 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 10:54:35.094 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 1 ms
29-11-2023 10:54:35.208 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:54:35.330 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:54:35.338 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 10:54:49.043 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 10:54:49.047 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 10:54:49.050 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 10:54:53.055 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 73983 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 10:54:53.060 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 10:54:53.740 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 10:54:53.817 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 65 ms. Found 3 JPA repository interfaces.
29-11-2023 10:54:54.379 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 10:54:54.392 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 10:54:54.392 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 10:54:54.461 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 10:54:54.461 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1308 ms
29-11-2023 10:54:54.487 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 10:54:54.730 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 10:54:54.732 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 10:54:54.745 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 10:54:54.916 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 10:54:55.126 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:55.129 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:55.133 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:55.135 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:55.140 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:55.140 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 10:54:55.151 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 10:54:55.155 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:55.157 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 10:54:55.159 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:55.160 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:55.216 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:54:55.217 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 27ms
29-11-2023 10:54:55.221 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:55.222 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:55.224 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:54:55.225 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 2ms
29-11-2023 10:54:55.226 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:55.229 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:54:55.230 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 3ms
29-11-2023 10:54:55.231 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:55.234 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:54:55.235 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 2ms
29-11-2023 10:54:55.236 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:55.237 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 10:54:55.238 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:54:55.239 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 10:54:55.314 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 10:54:55.382 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 10:54:55.386 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 10:54:55.748 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 10:54:55.789 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 10:54:56.797 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 10:54:56.829 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 10:54:57.242 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 10:54:57.599 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 10:54:57.606 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 5.021 seconds (process running for 5.679)
29-11-2023 10:57:39.647 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 10:57:39.648 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 10:57:39.649 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 1 ms
29-11-2023 10:57:39.771 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:57:39.910 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:57:39.917 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 10:57:47.020 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 10:57:47.026 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 10:57:47.027 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 10:59:45.654 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 10:59:45.683 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 10:59:45.690 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 10:59:49.785 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 74047 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 10:59:49.788 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 10:59:50.437 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 10:59:50.512 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 64 ms. Found 3 JPA repository interfaces.
29-11-2023 10:59:51.048 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 10:59:51.061 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 10:59:51.061 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 10:59:51.136 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 10:59:51.136 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1282 ms
29-11-2023 10:59:51.157 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 10:59:51.381 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 10:59:51.383 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 10:59:51.395 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 10:59:51.573 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 10:59:51.809 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:59:51.812 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:59:51.815 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:59:51.819 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:59:51.823 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:59:51.824 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 10:59:51.836 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 10:59:51.840 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:59:51.841 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 10:59:51.843 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:59:51.844 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:59:51.903 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:59:51.904 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 28ms
29-11-2023 10:59:51.908 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:59:51.910 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:59:51.914 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:59:51.915 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 4ms
29-11-2023 10:59:51.917 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:59:51.920 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:59:51.922 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 3ms
29-11-2023 10:59:51.923 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:59:51.926 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 10:59:51.927 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 2ms
29-11-2023 10:59:51.928 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:59:51.930 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 10:59:51.933 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 10:59:51.933 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 10:59:52.081 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 10:59:52.159 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 10:59:52.163 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 10:59:52.491 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 10:59:52.544 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 10:59:53.411 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 10:59:53.444 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 10:59:53.890 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 10:59:54.227 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 10:59:54.235 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 5.022 seconds (process running for 5.861)
29-11-2023 11:00:01.212 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 11:00:01.213 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 11:00:01.216 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 2 ms
29-11-2023 11:00:01.352 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 11:00:01.529 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 11:00:01.541 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 11:00:21.259 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 11:00:21.264 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 11:00:21.267 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 11:00:24.880 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 74055 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 11:00:24.883 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 11:00:25.561 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 11:00:25.639 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 67 ms. Found 3 JPA repository interfaces.
29-11-2023 11:00:26.157 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 11:00:26.170 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 11:00:26.171 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 11:00:26.248 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 11:00:26.248 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1283 ms
29-11-2023 11:00:26.274 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 11:00:26.555 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 11:00:26.557 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 11:00:26.572 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 11:00:26.743 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 11:00:26.960 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:26.963 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:26.967 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:26.970 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:26.974 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:26.974 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 11:00:26.985 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 11:00:26.988 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:26.989 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 11:00:26.991 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:26.992 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:27.050 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 11:00:27.051 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 29ms
29-11-2023 11:00:27.056 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:27.057 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:27.060 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 11:00:27.061 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 2ms
29-11-2023 11:00:27.062 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:27.067 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 11:00:27.067 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 4ms
29-11-2023 11:00:27.069 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:27.071 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 11:00:27.072 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 3ms
29-11-2023 11:00:27.074 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:27.075 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 11:00:27.077 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:27.077 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 11:00:27.160 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 11:00:27.229 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 11:00:27.237 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 11:00:27.565 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 11:00:27.619 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 11:00:28.581 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 11:00:28.617 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 11:00:29.066 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 11:00:29.401 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 11:00:29.408 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 5.052 seconds (process running for 5.653)
29-11-2023 11:00:33.750 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 11:00:33.753 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 11:00:33.758 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 4 ms
29-11-2023 11:00:33.992 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 11:00:34.204 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 11:00:34.232 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 11:00:44.080 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 11:00:44.085 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 11:00:44.089 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 11:00:48.424 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 74061 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 11:00:48.429 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 11:00:49.097 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 11:00:49.201 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 91 ms. Found 3 JPA repository interfaces.
29-11-2023 11:00:49.746 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 11:00:49.759 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 11:00:49.760 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 11:00:49.833 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 11:00:49.834 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1338 ms
29-11-2023 11:00:49.861 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 11:00:50.115 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 11:00:50.116 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 11:00:50.129 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 11:00:50.317 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 11:00:50.522 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:50.525 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:50.529 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:50.532 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:50.536 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:50.536 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 11:00:50.547 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 11:00:50.552 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:50.552 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 11:00:50.554 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:50.555 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:50.609 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 11:00:50.610 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 25ms
29-11-2023 11:00:50.614 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:50.615 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:50.618 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 11:00:50.619 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 3ms
29-11-2023 11:00:50.620 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:50.624 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 11:00:50.625 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 3ms
29-11-2023 11:00:50.627 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:50.629 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 11:00:50.630 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 2ms
29-11-2023 11:00:50.631 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:50.632 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 11:00:50.633 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:00:50.634 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 11:00:50.722 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 11:00:50.789 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 11:00:50.793 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 11:00:51.125 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 11:00:51.180 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 11:00:52.088 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 11:00:52.126 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 11:00:52.571 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 11:00:52.901 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 11:00:52.908 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 4.964 seconds (process running for 5.636)
29-11-2023 11:00:56.763 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 11:00:56.764 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 11:00:56.765 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 1 ms
29-11-2023 11:00:56.865 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 11:00:56.968 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 11:00:56.982 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 11:01:13.903 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 11:01:13.910 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 11:01:13.914 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 11:01:17.413 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 74069 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 11:01:17.418 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 11:01:18.115 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 11:01:18.193 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 66 ms. Found 3 JPA repository interfaces.
29-11-2023 11:01:18.740 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 11:01:18.752 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 11:01:18.752 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 11:01:18.822 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 11:01:18.823 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1328 ms
29-11-2023 11:01:18.850 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 11:01:19.087 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 11:01:19.089 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 11:01:19.099 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 11:01:19.272 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 11:01:19.485 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:01:19.488 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:01:19.492 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:01:19.494 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:01:19.499 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:01:19.499 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 11:01:19.508 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 11:01:19.512 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:01:19.512 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 11:01:19.514 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:01:19.515 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:01:19.571 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 11:01:19.572 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 27ms
29-11-2023 11:01:19.576 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:01:19.578 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:01:19.581 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 11:01:19.581 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 2ms
29-11-2023 11:01:19.582 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:01:19.586 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 11:01:19.587 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 3ms
29-11-2023 11:01:19.588 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:01:19.590 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 11:01:19.591 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 2ms
29-11-2023 11:01:19.593 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:01:19.594 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 11:01:19.595 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 11:01:19.596 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 11:01:19.674 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 11:01:19.743 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 11:01:19.746 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 11:01:20.090 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 11:01:20.144 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 11:01:21.097 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 11:01:21.129 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 11:01:21.575 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 11:01:21.950 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 11:01:21.957 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 5.014 seconds (process running for 5.668)
29-11-2023 11:01:26.551 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 11:01:26.552 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 11:01:26.553 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 1 ms
29-11-2023 11:01:26.644 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 11:01:26.769 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 11:01:26.777 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 11:01:33.473 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 11:01:33.477 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 11:01:33.479 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 12:05:39.539 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 74900 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 12:05:39.544 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 12:05:40.397 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 12:05:40.488 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 77 ms. Found 3 JPA repository interfaces.
29-11-2023 12:05:41.120 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 12:05:41.132 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 12:05:41.132 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 12:05:41.241 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 12:05:41.241 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1605 ms
29-11-2023 12:05:41.274 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 12:05:41.620 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 12:05:41.643 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 12:05:41.664 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 12:05:41.887 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 12:05:42.208 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 12:05:42.210 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 12:05:42.214 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 12:05:42.216 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 12:05:42.221 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 12:05:42.221 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 12:05:42.237 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 12:05:42.242 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 12:05:42.243 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 12:05:42.246 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 12:05:42.247 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 12:05:42.330 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 12:05:42.331 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 33ms
29-11-2023 12:05:42.334 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 12:05:42.335 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 12:05:42.338 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 12:05:42.339 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 3ms
29-11-2023 12:05:42.340 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 12:05:42.345 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 12:05:42.346 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 4ms
29-11-2023 12:05:42.347 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 12:05:42.350 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 12:05:42.351 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 2ms
29-11-2023 12:05:42.352 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 12:05:42.352 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 12:05:42.354 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 12:05:42.354 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 12:05:42.448 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 12:05:42.542 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 12:05:42.545 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 12:05:42.989 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 12:05:43.049 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 12:05:44.172 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 12:05:44.217 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 12:05:44.723 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 12:05:45.113 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 12:05:45.122 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 6.202 seconds (process running for 7.373)
29-11-2023 12:06:10.196 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 12:06:10.197 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 12:06:10.198 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 1 ms
29-11-2023 12:06:10.360 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 12:06:10.554 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where a1_0.user_id=?
29-11-2023 12:06:10.605 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 12:06:10.613 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 12:06:17.847 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 12:06:17.850 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where a1_0.user_id=?
29-11-2023 12:06:20.831 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 12:06:20.833 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where a1_0.user_id=?
29-11-2023 12:06:20.834 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 12:06:33.790 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 12:06:33.793 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where a1_0.user_id=?
29-11-2023 12:06:35.807 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 12:06:35.811 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where a1_0.user_id=?
29-11-2023 12:06:35.812 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 12:06:35.814 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 12:06:37.818 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 12:06:37.821 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where a1_0.user_id=?
29-11-2023 12:06:37.822 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 12:06:39.925 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 12:06:39.932 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where a1_0.user_id=?
29-11-2023 12:06:39.933 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 12:06:39.935 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 12:09:08.761 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 12:09:08.775 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 12:09:08.781 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 13:20:04.306 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 75833 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 13:20:04.309 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 13:20:05.077 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 13:20:05.157 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 66 ms. Found 3 JPA repository interfaces.
29-11-2023 13:20:05.749 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 13:20:05.762 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 13:20:05.762 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 13:20:05.842 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 13:20:05.842 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1488 ms
29-11-2023 13:20:05.874 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 13:20:06.158 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 13:20:06.160 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 13:20:06.170 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 13:20:06.364 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 13:20:06.588 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:20:06.591 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:20:06.595 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:20:06.599 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:20:06.604 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:20:06.604 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 13:20:06.615 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 13:20:06.618 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:20:06.620 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 13:20:06.622 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:20:06.623 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:20:06.681 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:20:06.682 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 26ms
29-11-2023 13:20:06.685 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:20:06.687 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:20:06.690 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:20:06.690 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 2ms
29-11-2023 13:20:06.691 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:20:06.695 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:20:06.696 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 3ms
29-11-2023 13:20:06.697 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:20:06.699 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:20:06.700 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 3ms
29-11-2023 13:20:06.702 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:20:06.703 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 13:20:06.704 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:20:06.704 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 13:20:06.795 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 13:20:06.879 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 13:20:06.884 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 13:20:07.318 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 13:20:07.396 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 13:20:08.563 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 13:20:08.601 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 13:20:08.964 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
29-11-2023 13:20:09.439 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 13:20:09.815 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 13:20:09.821 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 6.072 seconds (process running for 6.996)
29-11-2023 13:20:27.303 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 13:20:27.310 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 13:20:27.314 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 13:23:11.193 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 75864 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 13:23:11.197 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 13:23:11.981 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 13:23:12.053 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 60 ms. Found 3 JPA repository interfaces.
29-11-2023 13:23:12.658 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 13:23:12.672 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 13:23:12.672 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 13:23:12.758 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 13:23:12.759 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1498 ms
29-11-2023 13:23:12.784 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 13:23:13.132 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 13:23:13.133 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 13:23:13.144 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 13:23:13.337 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 13:23:13.553 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:23:13.556 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:23:13.559 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:23:13.562 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:23:13.568 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:23:13.569 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 13:23:13.579 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 13:23:13.582 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:23:13.583 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 13:23:13.585 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:23:13.586 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:23:13.640 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:23:13.641 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 25ms
29-11-2023 13:23:13.645 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:23:13.646 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:23:13.649 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:23:13.650 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 2ms
29-11-2023 13:23:13.651 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:23:13.654 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:23:13.655 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 3ms
29-11-2023 13:23:13.656 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:23:13.660 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:23:13.661 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 3ms
29-11-2023 13:23:13.662 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:23:13.663 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 13:23:13.665 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:23:13.665 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 13:23:13.763 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 13:23:13.862 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 13:23:13.866 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 13:23:14.299 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 13:23:14.376 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 13:23:15.611 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 13:23:15.656 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 13:23:16.007 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
29-11-2023 13:23:16.532 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 13:23:16.903 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 13:23:16.912 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 6.352 seconds (process running for 7.026)
29-11-2023 13:25:53.487 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 13:25:53.491 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 13:25:53.503 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 11 ms
29-11-2023 13:25:54.203 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=?
29-11-2023 13:25:54.250 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 13:25:54.298 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=?
29-11-2023 13:25:54.299 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 13:25:54.398 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - insert into transactions (account_id,amount,created,transaction_type,id) values (?,?,?,?,default)
29-11-2023 13:25:54.429 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - update accounts set account_type=?,balance=?,created=?,currency_code=?,interest_compounding_period=?,interest_rate=?,last_interest_application=?,user_id=? where id=?
29-11-2023 13:25:54.434 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - update accounts set account_type=?,balance=?,created=?,currency_code=?,interest_compounding_period=?,interest_rate=?,last_interest_application=?,user_id=? where id=?
29-11-2023 13:28:17.421 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 13:28:17.452 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 13:28:17.485 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 13:28:22.520 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 75914 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 13:28:22.525 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 13:28:23.686 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 13:28:23.760 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 62 ms. Found 3 JPA repository interfaces.
29-11-2023 13:28:24.318 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 13:28:24.329 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 13:28:24.329 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 13:28:24.422 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 13:28:24.423 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1822 ms
29-11-2023 13:28:24.456 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 13:28:24.725 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 13:28:24.726 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 13:28:24.737 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 13:28:24.935 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 13:28:25.177 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:28:25.180 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:28:25.184 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:28:25.187 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:28:25.191 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:28:25.191 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 13:28:25.201 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 13:28:25.204 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:28:25.205 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 13:28:25.207 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:28:25.208 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:28:25.264 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:28:25.265 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 26ms
29-11-2023 13:28:25.269 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:28:25.271 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:28:25.274 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:28:25.274 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 3ms
29-11-2023 13:28:25.276 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:28:25.279 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:28:25.280 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 4ms
29-11-2023 13:28:25.281 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:28:25.284 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:28:25.285 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 2ms
29-11-2023 13:28:25.286 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:28:25.287 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 13:28:25.289 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:28:25.289 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 13:28:25.363 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 13:28:25.426 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 13:28:25.430 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 13:28:25.779 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 13:28:25.837 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 13:28:26.869 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 13:28:26.904 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 13:28:27.275 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
29-11-2023 13:28:27.708 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 13:28:28.059 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 13:28:28.066 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 6.139 seconds (process running for 6.855)
29-11-2023 13:29:34.215 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 13:29:34.219 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 13:29:34.225 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 6 ms
29-11-2023 13:29:34.612 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=?
29-11-2023 13:29:34.638 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 13:29:34.672 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=?
29-11-2023 13:29:34.673 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 13:29:34.755 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - insert into transactions (account_id,amount,created,transaction_type,id) values (?,?,?,?,default)
29-11-2023 13:29:34.776 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - update accounts set account_type=?,balance=?,created=?,currency_code=?,interest_compounding_period=?,interest_rate=?,last_interest_application=?,user_id=? where id=?
29-11-2023 13:29:34.778 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - update accounts set account_type=?,balance=?,created=?,currency_code=?,interest_compounding_period=?,interest_rate=?,last_interest_application=?,user_id=? where id=?
29-11-2023 13:56:20.828 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 13:56:20.886 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 13:56:20.895 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 13:56:26.456 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 76203 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 13:56:26.459 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 13:56:27.385 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 13:56:27.455 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 58 ms. Found 3 JPA repository interfaces.
29-11-2023 13:56:28.043 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 13:56:28.057 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 13:56:28.057 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 13:56:28.137 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 13:56:28.137 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1476 ms
29-11-2023 13:56:28.161 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 13:56:28.417 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 13:56:28.419 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 13:56:28.429 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 13:56:28.629 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 13:56:28.843 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:56:28.846 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:56:28.849 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:56:28.852 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:56:28.857 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:56:28.858 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 13:56:28.868 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 13:56:28.871 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:56:28.872 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 13:56:28.874 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:56:28.875 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:56:28.931 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:56:28.931 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 25ms
29-11-2023 13:56:28.934 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:56:28.936 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:56:28.938 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:56:28.939 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 3ms
29-11-2023 13:56:28.940 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:56:28.943 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:56:28.944 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 2ms
29-11-2023 13:56:28.945 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:56:28.948 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 13:56:28.949 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 2ms
29-11-2023 13:56:28.950 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:56:28.951 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 13:56:28.952 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 13:56:28.953 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 13:56:29.027 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 13:56:29.089 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 13:56:29.092 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 13:56:29.409 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 13:56:29.458 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 13:56:30.449 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 13:56:30.490 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 13:56:30.812 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
29-11-2023 13:56:31.227 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 13:56:31.582 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 13:56:31.590 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 5.824 seconds (process running for 6.634)
29-11-2023 13:58:11.655 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 13:58:11.659 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 13:58:11.670 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 10 ms
29-11-2023 13:58:12.380 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=?
29-11-2023 13:58:12.417 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 13:58:12.563 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - insert into transactions (account_id,amount,created,transaction_type,id) values (?,?,?,?,default)
29-11-2023 13:58:12.588 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - update accounts set account_type=?,balance=?,created=?,currency_code=?,interest_compounding_period=?,interest_rate=?,last_interest_application=?,user_id=? where id=?
29-11-2023 13:59:55.489 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver.logException - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<org.springframework.http.HttpStatus> com.example.cryptoservice.controller.TransactionController.deposit(com.example.cryptoservice.domain.dto.DepositDto): [Field error in object 'depositDto' on field 'amount': rejected value [-300.00]; codes [Min.depositDto.amount,Min.amount,Min.java.math.BigDecimal,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [depositDto.amount,amount]; arguments []; default message [amount],0]; default message [Transfer amount can not be less than zero]] ]
29-11-2023 14:00:05.908 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=?
29-11-2023 14:00:05.926 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 14:00:05.932 [http-nio-8080-exec-2] ERROR c.e.c.e.ExceptionResolver.notEnoughMoneyException - com.example.cryptoservice.exception_resolver.NotEnoughMoneyException: Account with id:3 does not have enough balance to transfer.
29-11-2023 14:35:24.247 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 76645 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 14:35:24.251 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 14:35:25.155 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 14:35:25.228 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 65 ms. Found 3 JPA repository interfaces.
29-11-2023 14:35:25.868 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 14:35:25.880 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 14:35:25.880 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 14:35:25.970 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 14:35:25.970 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1652 ms
29-11-2023 14:35:25.994 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 14:35:26.316 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 14:35:26.317 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 14:35:26.328 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 14:35:26.505 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 14:35:26.748 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:35:26.752 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:35:26.756 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:35:26.759 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:35:26.764 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:35:26.765 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 14:35:26.775 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 14:35:26.780 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:35:26.781 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 14:35:26.783 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:35:26.784 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:35:26.849 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 14:35:26.850 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 29ms
29-11-2023 14:35:26.854 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:35:26.856 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:35:26.858 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 14:35:26.859 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 2ms
29-11-2023 14:35:26.860 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:35:26.864 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 14:35:26.865 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 3ms
29-11-2023 14:35:26.866 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:35:26.869 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 14:35:26.870 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 2ms
29-11-2023 14:35:26.871 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:35:26.872 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 14:35:26.874 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:35:26.874 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 14:35:26.947 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 14:35:27.014 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 14:35:27.017 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 14:35:27.831 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 14:35:27.890 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 14:35:29.183 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 14:35:29.219 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 14:35:29.568 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
29-11-2023 14:35:29.988 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext.refresh - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'transactionController' defined in file [/Users/allencooper/IdeaProjects/CryptoService/target/classes/com/example/cryptoservice/controller/TransactionController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'transactionServiceImpl' defined in file [/Users/allencooper/IdeaProjects/CryptoService/target/classes/com/example/cryptoservice/service/TransactionServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'transactionRepository' defined in com.example.cryptoservice.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.example.cryptoservice.repository.TransactionRepository.findTransactionByTransactionTypeAndAccount(com.example.cryptoservice.domain.TransactionType,java.lang.Long); Reason: Failed to create query for method public abstract java.util.Optional com.example.cryptoservice.repository.TransactionRepository.findTransactionByTransactionTypeAndAccount(com.example.cryptoservice.domain.TransactionType,java.lang.Long); Can't compare test expression of type [accounts] with element of type [basicType@2(java.lang.Long,-5)]
29-11-2023 14:35:29.989 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 14:35:29.992 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 14:35:29.994 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 14:35:29.995 [main] INFO  o.a.catalina.core.StandardService.log - Stopping service [Tomcat]
29-11-2023 14:35:30.004 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger.logMessage - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
29-11-2023 14:35:30.032 [main] ERROR o.s.boot.SpringApplication.reportFailure - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'transactionController' defined in file [/Users/allencooper/IdeaProjects/CryptoService/target/classes/com/example/cryptoservice/controller/TransactionController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'transactionServiceImpl' defined in file [/Users/allencooper/IdeaProjects/CryptoService/target/classes/com/example/cryptoservice/service/TransactionServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'transactionRepository' defined in com.example.cryptoservice.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.example.cryptoservice.repository.TransactionRepository.findTransactionByTransactionTypeAndAccount(com.example.cryptoservice.domain.TransactionType,java.lang.Long); Reason: Failed to create query for method public abstract java.util.Optional com.example.cryptoservice.repository.TransactionRepository.findTransactionByTransactionTypeAndAccount(com.example.cryptoservice.domain.TransactionType,java.lang.Long); Can't compare test expression of type [accounts] with element of type [basicType@2(java.lang.Long,-5)]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.cryptoservice.CryptoServiceApplication.main(CryptoServiceApplication.java:10)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'transactionServiceImpl' defined in file [/Users/allencooper/IdeaProjects/CryptoService/target/classes/com/example/cryptoservice/service/TransactionServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'transactionRepository' defined in com.example.cryptoservice.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.example.cryptoservice.repository.TransactionRepository.findTransactionByTransactionTypeAndAccount(com.example.cryptoservice.domain.TransactionType,java.lang.Long); Reason: Failed to create query for method public abstract java.util.Optional com.example.cryptoservice.repository.TransactionRepository.findTransactionByTransactionTypeAndAccount(com.example.cryptoservice.domain.TransactionType,java.lang.Long); Can't compare test expression of type [accounts] with element of type [basicType@2(java.lang.Long,-5)]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:910)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'transactionRepository' defined in com.example.cryptoservice.repository.TransactionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.example.cryptoservice.repository.TransactionRepository.findTransactionByTransactionTypeAndAccount(com.example.cryptoservice.domain.TransactionType,java.lang.Long); Reason: Failed to create query for method public abstract java.util.Optional com.example.cryptoservice.repository.TransactionRepository.findTransactionByTransactionTypeAndAccount(com.example.cryptoservice.domain.TransactionType,java.lang.Long); Can't compare test expression of type [accounts] with element of type [basicType@2(java.lang.Long,-5)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:910)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 33 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional com.example.cryptoservice.repository.TransactionRepository.findTransactionByTransactionTypeAndAccount(com.example.cryptoservice.domain.TransactionType,java.lang.Long); Reason: Failed to create query for method public abstract java.util.Optional com.example.cryptoservice.repository.TransactionRepository.findTransactionByTransactionTypeAndAccount(com.example.cryptoservice.domain.TransactionType,java.lang.Long); Can't compare test expression of type [accounts] with element of type [basicType@2(java.lang.Long,-5)]
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:245)
	at org.springframework.data.util.Lazy.get(Lazy.java:114)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.Optional com.example.cryptoservice.repository.TransactionRepository.findTransactionByTransactionTypeAndAccount(com.example.cryptoservice.domain.TransactionType,java.lang.Long); Can't compare test expression of type [accounts] with element of type [basicType@2(java.lang.Long,-5)]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:124)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:258)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)
	... 56 common frames omitted
Caused by: java.lang.IllegalArgumentException: Can't compare test expression of type [accounts] with element of type [basicType@2(java.lang.Long,-5)]
	at org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.assertComparable(SqmCriteriaNodeBuilder.java:2102)
	at org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.equal(SqmCriteriaNodeBuilder.java:2113)
	at org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.equal(SqmCriteriaNodeBuilder.java:182)
	at org.springframework.data.jpa.repository.query.JpaQueryCreator$PredicateBuilder.build(JpaQueryCreator.java:312)
	at org.springframework.data.jpa.repository.query.JpaQueryCreator.toPredicate(JpaQueryCreator.java:210)
	at org.springframework.data.jpa.repository.query.JpaQueryCreator.and(JpaQueryCreator.java:126)
	at org.springframework.data.jpa.repository.query.JpaQueryCreator.and(JpaQueryCreator.java:60)
	at org.springframework.data.repository.query.parser.AbstractQueryCreator.createCriteria(AbstractQueryCreator.java:122)
	at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:95)
	at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:81)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.<init>(PartTreeJpaQuery.java:218)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$CountQueryPreparer.<init>(PartTreeJpaQuery.java:361)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:102)
	... 60 common frames omitted
29-11-2023 14:38:38.640 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 76676 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 14:38:38.643 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 14:38:39.822 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 14:38:39.912 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 74 ms. Found 3 JPA repository interfaces.
29-11-2023 14:38:40.561 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 14:38:40.574 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 14:38:40.575 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 14:38:40.666 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 14:38:40.666 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1977 ms
29-11-2023 14:38:40.692 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 14:38:41.084 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 14:38:41.086 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 14:38:41.099 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 14:38:41.322 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 14:38:41.546 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:38:41.549 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:38:41.554 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:38:41.557 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:38:41.562 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:38:41.563 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 14:38:41.574 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 14:38:41.579 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:38:41.580 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 14:38:41.581 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:38:41.582 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:38:41.644 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 14:38:41.645 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 25ms
29-11-2023 14:38:41.648 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:38:41.650 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:38:41.653 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 14:38:41.654 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 3ms
29-11-2023 14:38:41.655 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:38:41.658 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 14:38:41.659 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 3ms
29-11-2023 14:38:41.660 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:38:41.663 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 14:38:41.664 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 3ms
29-11-2023 14:38:41.666 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:38:41.666 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 14:38:41.668 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:38:41.668 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 14:38:41.747 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 14:38:41.822 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 14:38:41.826 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 14:38:42.270 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 14:38:42.332 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 14:38:43.491 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 14:38:43.538 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 14:38:43.916 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
29-11-2023 14:38:44.427 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 14:38:44.883 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 14:38:44.892 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 6.865 seconds (process running for 7.594)
29-11-2023 14:39:05.787 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 14:39:05.811 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 14:39:05.861 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 14:40:18.013 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 76706 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 14:40:18.016 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 14:40:18.882 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 14:40:18.962 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 67 ms. Found 3 JPA repository interfaces.
29-11-2023 14:40:19.586 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 14:40:19.598 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 14:40:19.599 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 14:40:19.688 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 14:40:19.689 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1628 ms
29-11-2023 14:40:19.723 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 14:40:20.122 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 14:40:20.124 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 14:40:20.138 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 14:40:20.361 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 14:40:20.598 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:40:20.604 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:40:20.608 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:40:20.612 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:40:20.618 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:40:20.618 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 14:40:20.628 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 14:40:20.632 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:40:20.633 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 14:40:20.635 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:40:20.635 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:40:20.694 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 14:40:20.695 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 25ms
29-11-2023 14:40:20.698 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:40:20.699 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:40:20.702 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 14:40:20.702 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 2ms
29-11-2023 14:40:20.703 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:40:20.706 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 14:40:20.707 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 3ms
29-11-2023 14:40:20.708 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:40:20.711 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 14:40:20.712 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 3ms
29-11-2023 14:40:20.713 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:40:20.714 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 14:40:20.715 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 14:40:20.715 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 14:40:20.805 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 14:40:20.881 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 14:40:20.884 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 14:40:21.356 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 14:40:21.408 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 14:40:22.528 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 14:40:22.564 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 14:40:22.950 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
29-11-2023 14:40:23.462 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 14:40:23.890 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 14:40:23.898 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 6.553 seconds (process running for 7.34)
29-11-2023 14:41:31.495 [http-nio-8080-exec-7] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 14:41:31.498 [http-nio-8080-exec-7] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 14:41:31.548 [http-nio-8080-exec-7] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 50 ms
29-11-2023 14:41:32.107 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=?
29-11-2023 14:41:32.137 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 14:41:32.284 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 where t1_0.transaction_type=? and t1_0.account_id=?
29-11-2023 14:41:32.454 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - insert into transactions (account_id,amount,created,transaction_type,id) values (?,?,?,?,default)
29-11-2023 14:41:32.489 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - update accounts set account_type=?,balance=?,created=?,currency_code=?,interest_compounding_period=?,interest_rate=?,last_interest_application=?,user_id=? where id=?
29-11-2023 14:41:32.494 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL.logStatement - update transactions set account_id=?,amount=?,created=?,transaction_type=? where id=?
29-11-2023 14:43:38.435 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 14:43:38.441 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 14:43:38.443 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 16:56:19.553 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 77891 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 16:56:19.567 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 16:56:20.854 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 16:56:20.947 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 80 ms. Found 3 JPA repository interfaces.
29-11-2023 16:56:21.659 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 16:56:21.673 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 16:56:21.674 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 16:56:21.810 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 16:56:21.811 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 2161 ms
29-11-2023 16:56:21.848 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 16:56:22.237 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 16:56:22.239 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 16:56:22.250 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 16:56:22.495 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 16:56:22.811 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 16:56:22.813 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 16:56:22.817 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 16:56:22.821 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 16:56:22.825 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 16:56:22.826 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 16:56:22.837 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 16:56:22.841 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 16:56:22.843 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 16:56:22.845 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 16:56:22.846 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 16:56:22.930 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 16:56:22.931 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 28ms
29-11-2023 16:56:22.935 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 16:56:22.936 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 16:56:22.939 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 16:56:22.940 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 3ms
29-11-2023 16:56:22.941 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 16:56:22.945 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 16:56:22.946 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 4ms
29-11-2023 16:56:22.947 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 16:56:22.951 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 16:56:22.952 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 3ms
29-11-2023 16:56:22.953 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 16:56:22.954 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 16:56:22.955 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 16:56:22.956 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 16:56:23.055 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 16:56:23.148 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 16:56:23.151 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 16:56:23.658 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 16:56:23.737 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 16:56:25.017 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 16:56:25.062 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 16:56:25.507 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
29-11-2023 16:56:26.102 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 16:56:26.517 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 16:56:26.525 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 7.599 seconds (process running for 8.642)
29-11-2023 16:58:49.174 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 16:58:49.178 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 16:58:49.189 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 10 ms
29-11-2023 16:58:49.755 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.user_id=?
29-11-2023 16:58:49.784 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 16:58:49.923 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - insert into transactions (account_id,amount,created,transaction_type,id) values (?,?,?,?,default)
29-11-2023 16:58:49.954 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - update accounts set account_type=?,balance=?,created=?,currency_code=?,interest_compounding_period=?,interest_rate=?,last_interest_application=?,user_id=? where id=?
29-11-2023 16:58:49.956 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - update accounts set account_type=?,balance=?,created=?,currency_code=?,interest_compounding_period=?,interest_rate=?,last_interest_application=?,user_id=? where id=?
29-11-2023 17:33:27.812 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 78376 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 17:33:27.815 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 17:33:29.108 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 17:33:29.217 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
29-11-2023 17:33:29.888 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 17:33:29.905 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 17:33:29.906 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 17:33:30.075 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 17:33:30.079 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 2180 ms
29-11-2023 17:33:30.112 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 17:33:30.435 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 17:33:30.437 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 17:33:30.451 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 17:33:30.688 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 17:33:31.013 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 17:33:31.016 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 17:33:31.021 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 17:33:31.024 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 17:33:31.030 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 17:33:31.030 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 17:33:31.042 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 17:33:31.046 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 17:33:31.047 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 17:33:31.049 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 17:33:31.050 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 17:33:31.146 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 17:33:31.147 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 30ms
29-11-2023 17:33:31.151 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 17:33:31.153 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 17:33:31.159 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 17:33:31.160 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 6ms
29-11-2023 17:33:31.162 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 17:33:31.166 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 17:33:31.167 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 4ms
29-11-2023 17:33:31.168 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 17:33:31.172 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 17:33:31.173 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 3ms
29-11-2023 17:33:31.174 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 17:33:31.176 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 17:33:31.178 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 17:33:31.179 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 17:33:31.282 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 17:33:31.380 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 17:33:31.383 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 17:33:31.880 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 17:33:31.958 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 17:33:33.320 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 17:33:33.374 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 17:33:33.857 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory.<clinit> - Hibernate is in classpath; If applicable, HQL parser will be used.
29-11-2023 17:33:34.465 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 17:33:34.997 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 17:33:35.011 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 7.778 seconds (process running for 9.419)
29-11-2023 17:36:18.994 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 17:36:18.997 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 17:36:19.007 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 9 ms
29-11-2023 17:36:19.545 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.user_id=?
29-11-2023 17:36:19.577 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 17:36:19.625 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=?
29-11-2023 17:36:19.697 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id,u1_0.id,u1_0.login,u1_0.password,u1_0.user_role from accounts a1_0 join crypto_users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
29-11-2023 17:36:19.727 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - insert into transactions (account_id,amount,created,transaction_type,id) values (?,?,?,?,default)
29-11-2023 17:36:19.747 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - update accounts set account_type=?,balance=?,created=?,currency_code=?,interest_compounding_period=?,interest_rate=?,last_interest_application=?,user_id=? where id=?
29-11-2023 17:37:01.691 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 17:37:01.715 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 17:37:01.717 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 20:30:45.198 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 79782 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 20:30:45.204 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 20:30:46.173 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 20:30:46.267 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 79 ms. Found 3 JPA repository interfaces.
29-11-2023 20:30:46.939 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 20:30:46.954 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 20:30:46.955 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 20:30:47.092 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 20:30:47.093 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1760 ms
29-11-2023 20:30:47.123 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 20:30:47.397 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 20:30:47.399 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 20:30:47.410 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 20:30:47.636 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 20:30:47.928 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:30:47.931 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:30:47.938 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:30:47.941 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:30:47.947 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:30:47.947 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 20:30:47.963 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 20:30:47.967 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:30:47.968 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 20:30:47.970 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:30:47.972 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:30:48.063 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 20:30:48.064 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 31ms
29-11-2023 20:30:48.067 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:30:48.069 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:30:48.072 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 20:30:48.073 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 2ms
29-11-2023 20:30:48.074 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:30:48.078 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 20:30:48.079 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 4ms
29-11-2023 20:30:48.081 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:30:48.085 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 20:30:48.086 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 3ms
29-11-2023 20:30:48.088 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:30:48.089 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 20:30:48.091 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:30:48.091 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 20:30:48.177 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 20:30:48.276 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 20:30:48.279 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 20:30:48.719 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 20:30:48.805 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 20:30:50.100 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 20:30:50.135 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 20:30:50.641 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 20:30:51.028 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 20:30:51.036 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 6.383 seconds (process running for 7.574)
29-11-2023 20:51:48.989 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 20:51:49.039 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 20:51:49.044 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 20:51:55.914 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 79968 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 20:51:55.917 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 20:51:56.652 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 20:51:56.723 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 59 ms. Found 3 JPA repository interfaces.
29-11-2023 20:51:57.276 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 20:51:57.288 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 20:51:57.288 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 20:51:57.371 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 20:51:57.371 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1388 ms
29-11-2023 20:51:57.392 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 20:51:57.605 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 20:51:57.606 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 20:51:57.616 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 20:51:57.806 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 20:51:58.053 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:51:58.058 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:51:58.064 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:51:58.069 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:51:58.077 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:51:58.078 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 20:51:58.093 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 20:51:58.098 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:51:58.099 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 20:51:58.101 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:51:58.102 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:51:58.161 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 20:51:58.162 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 25ms
29-11-2023 20:51:58.166 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:51:58.168 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:51:58.171 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 20:51:58.172 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 2ms
29-11-2023 20:51:58.174 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:51:58.180 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 20:51:58.181 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 5ms
29-11-2023 20:51:58.182 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:51:58.186 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 20:51:58.187 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 3ms
29-11-2023 20:51:58.188 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:51:58.189 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 20:51:58.190 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 20:51:58.191 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 20:51:58.265 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 20:51:58.360 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 20:51:58.364 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 20:51:58.690 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 20:51:58.742 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 20:51:59.823 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 20:51:59.851 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 20:52:00.370 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 20:52:00.726 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 20:52:00.734 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 5.477 seconds (process running for 6.351)
29-11-2023 20:54:28.385 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 20:54:28.390 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 20:54:28.399 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 7 ms
29-11-2023 20:54:28.816 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 20:54:28.987 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=? and a1_0.user_id=?
29-11-2023 20:54:29.041 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - insert into transactions (account_id,amount,created,transaction_type,id) values (?,?,?,?,default)
29-11-2023 20:54:29.139 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - update accounts set account_type=?,balance=?,created=?,currency_code=?,interest_compounding_period=?,interest_rate=?,last_interest_application=?,user_id=? where id=?
29-11-2023 20:55:33.189 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 20:55:33.198 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=? and a1_0.user_id=?
29-11-2023 20:55:33.205 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 20:55:33.227 [http-nio-8080-exec-3] ERROR c.e.c.e.ExceptionResolver.notEnoughMoneyException - Wrong amount of money
29-11-2023 20:56:02.420 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 20:56:02.427 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=? and a1_0.user_id=?
29-11-2023 20:56:02.430 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select t1_0.id,t1_0.account_id,t1_0.amount,t1_0.created,t1_0.transaction_type from transactions t1_0 join accounts a1_0 on a1_0.id=t1_0.account_id where t1_0.id=? and a1_0.user_id=?
29-11-2023 20:56:02.432 [http-nio-8080-exec-1] ERROR c.e.c.e.ExceptionResolver.notEnoughMoneyException - Wrong amount of money
29-11-2023 20:56:11.043 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 20:56:11.049 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 20:56:11.052 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 22:39:17.156 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 80440 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 22:39:17.162 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 22:39:18.185 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 22:39:18.282 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 81 ms. Found 3 JPA repository interfaces.
29-11-2023 22:39:18.971 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 22:39:18.985 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 22:39:18.986 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 22:39:19.110 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 22:39:19.110 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1871 ms
29-11-2023 22:39:19.137 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 22:39:19.451 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 22:39:19.453 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 22:39:19.465 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 22:39:19.702 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 22:39:19.994 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:39:19.997 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:39:20.001 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:39:20.005 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:39:20.011 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:39:20.011 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 22:39:20.025 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 22:39:20.029 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:39:20.030 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 22:39:20.032 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:39:20.033 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:39:20.138 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 22:39:20.140 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 28ms
29-11-2023 22:39:20.144 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:39:20.145 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:39:20.148 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 22:39:20.149 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 3ms
29-11-2023 22:39:20.151 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:39:20.155 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 22:39:20.156 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 4ms
29-11-2023 22:39:20.157 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:39:20.161 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 22:39:20.162 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 3ms
29-11-2023 22:39:20.163 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:39:20.166 [main] ERROR liquibase.changelog.log - ChangeSet db/changelog/changeset/add-crypto-rates.sql::raw::includeAll encountered an exception.
29-11-2023 22:39:20.166 [main] INFO  liquibase.log - Update command encountered an exception.
29-11-2023 22:39:20.168 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:39:20.168 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 22:39:20.169 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext.refresh - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/add-crypto-rates.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Неверное количество столбцов
Column count does not match; SQL statement:
insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'ETH', 0,00048);

insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'BTC', 0,000027);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'ETH', 0,055);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'BTC', 18,16);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'USDT', 2078,02);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'USDT', 37715,86); [21002-214] [Failed SQL: (21002) insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'ETH', 0,00048);

insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'BTC', 0,000027);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'ETH', 0,055);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'BTC', 18,16);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'USDT', 2078,02);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'USDT', 37715,86);]
29-11-2023 22:39:20.170 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 22:39:20.172 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 22:39:20.175 [main] INFO  o.a.catalina.core.StandardService.log - Stopping service [Tomcat]
29-11-2023 22:39:20.184 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger.logMessage - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
29-11-2023 22:39:20.210 [main] ERROR o.s.boot.SpringApplication.reportFailure - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/add-crypto-rates.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Неверное количество столбцов
Column count does not match; SQL statement:
insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'ETH', 0,00048);

insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'BTC', 0,000027);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'ETH', 0,055);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'BTC', 18,16);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'USDT', 2078,02);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'USDT', 37715,86); [21002-214] [Failed SQL: (21002) insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'ETH', 0,00048);

insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'BTC', 0,000027);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'ETH', 0,055);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'BTC', 18,16);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'USDT', 2078,02);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'USDT', 37715,86);]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.cryptoservice.CryptoServiceApplication.main(CryptoServiceApplication.java:10)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/add-crypto-rates.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Неверное количество столбцов
Column count does not match; SQL statement:
insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'ETH', 0,00048);

insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'BTC', 0,000027);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'ETH', 0,055);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'BTC', 18,16);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'USDT', 2078,02);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'USDT', 37715,86); [21002-214] [Failed SQL: (21002) insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'ETH', 0,00048);

insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'BTC', 0,000027);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'ETH', 0,055);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'BTC', 18,16);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'USDT', 2078,02);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'USDT', 37715,86);]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:136)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:297)
	at liquibase.Scope.lambda$child$0(Scope.java:187)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:186)
	at liquibase.Scope.child(Scope.java:165)
	at liquibase.Scope.child(Scope.java:256)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:295)
	at liquibase.Scope.lambda$child$0(Scope.java:187)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:186)
	at liquibase.Scope.child(Scope.java:165)
	at liquibase.Liquibase.runInScope(Liquibase.java:2639)
	at liquibase.Liquibase.update(Liquibase.java:236)
	at liquibase.Liquibase.update(Liquibase.java:221)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/changeset/add-crypto-rates.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Неверное количество столбцов
Column count does not match; SQL statement:
insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'ETH', 0,00048);

insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'BTC', 0,000027);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'ETH', 0,055);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'BTC', 18,16);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'USDT', 2078,02);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'USDT', 37715,86); [21002-214] [Failed SQL: (21002) insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'ETH', 0,00048);

insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'BTC', 0,000027);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'ETH', 0,055);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'BTC', 18,16);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'USDT', 2078,02);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'USDT', 37715,86);]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:744)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:59)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:124)
	at liquibase.Scope.lambda$child$0(Scope.java:187)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:186)
	at liquibase.Scope.child(Scope.java:165)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:124)
	at liquibase.Scope.lambda$child$0(Scope.java:187)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:186)
	at liquibase.Scope.child(Scope.java:165)
	at liquibase.Scope.child(Scope.java:256)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:105)
	at liquibase.Scope.lambda$child$0(Scope.java:187)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:186)
	at liquibase.Scope.child(Scope.java:165)
	at liquibase.Scope.child(Scope.java:256)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:75)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Неверное количество столбцов
Column count does not match; SQL statement:
insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'ETH', 0,00048);

insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'BTC', 0,000027);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'ETH', 0,055);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'BTC', 18,16);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'USDT', 2078,02);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'USDT', 37715,86); [21002-214] [Failed SQL: (21002) insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'ETH', 0,00048);

insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'BTC', 0,000027);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'ETH', 0,055);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'BTC', 18,16);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'USDT', 2078,02);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'USDT', 37715,86);]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:702)
	... 56 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Неверное количество столбцов
Column count does not match; SQL statement:
insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'ETH', 0,00048);

insert into crypto_rates (base_currency, target_currency, rate)
values ('USDT', 'BTC', 0,000027);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'ETH', 0,055);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'BTC', 18,16);

insert into crypto_rates (base_currency, target_currency, rate)
values ('ETH', 'USDT', 2078,02);

insert into crypto_rates (base_currency, target_currency, rate)
values ('BTC', 'USDT', 37715,86); [21002-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.command.dml.Insert.doPrepare(Insert.java:295)
	at org.h2.command.dml.DataChangeStatement.prepare(DataChangeStatement.java:37)
	at org.h2.command.Parser.prepareCommand(Parser.java:575)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441)
	... 61 common frames omitted
29-11-2023 22:43:28.848 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 80502 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 22:43:28.852 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 22:43:30.098 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 22:43:30.185 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 77 ms. Found 3 JPA repository interfaces.
29-11-2023 22:43:30.878 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 22:43:30.893 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 22:43:30.894 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 22:43:31.043 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 22:43:31.044 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 2090 ms
29-11-2023 22:43:31.075 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 22:43:31.527 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 22:43:31.534 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 22:43:31.572 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 22:43:31.864 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 22:43:53.122 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 80513 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 22:43:53.125 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 22:43:54.391 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 22:43:54.471 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 65 ms. Found 3 JPA repository interfaces.
29-11-2023 22:43:55.089 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 22:43:55.104 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 22:43:55.104 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 22:43:55.200 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 22:43:55.201 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1974 ms
29-11-2023 22:43:55.228 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 22:43:55.545 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 22:43:55.547 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 22:43:55.561 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 22:43:55.785 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 22:43:56.019 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:43:56.022 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:43:56.025 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:43:56.028 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:43:56.033 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:43:56.034 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 22:43:56.044 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 22:43:56.047 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:43:56.048 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 22:43:56.050 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:43:56.051 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:43:56.112 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 22:43:56.113 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 29ms
29-11-2023 22:43:56.117 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:43:56.119 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:43:56.123 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 22:43:56.123 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 3ms
29-11-2023 22:43:56.125 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:43:56.129 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 22:43:56.130 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 4ms
29-11-2023 22:43:56.131 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:43:56.134 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 22:43:56.135 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 3ms
29-11-2023 22:43:56.136 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:43:56.139 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 22:43:56.140 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-crypto-rates.sql::raw::includeAll ran successfully in 3ms
29-11-2023 22:43:56.141 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:43:56.142 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 22:43:56.143 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:43:56.144 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 22:43:56.254 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 22:43:56.339 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 22:43:56.342 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 22:43:57.061 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 22:43:57.154 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 22:43:58.574 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 22:43:58.628 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 22:43:59.273 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 22:43:59.682 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 22:43:59.690 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 7.231 seconds (process running for 8.299)
29-11-2023 22:44:48.113 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 22:44:48.158 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 22:44:48.164 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 22:44:50.872 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 80530 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 22:44:50.883 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 22:44:51.573 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 22:44:51.643 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 59 ms. Found 3 JPA repository interfaces.
29-11-2023 22:44:52.194 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 22:44:52.206 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 22:44:52.206 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 22:44:52.286 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 22:44:52.286 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1335 ms
29-11-2023 22:44:52.319 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 22:44:52.572 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 22:44:52.574 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 22:44:52.586 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 22:44:52.798 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 22:44:53.045 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:44:53.048 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:44:53.052 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:44:53.055 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:44:53.060 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:44:53.060 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 22:44:53.072 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 22:44:53.076 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:44:53.077 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 22:44:53.079 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:44:53.080 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:44:53.145 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 22:44:53.146 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 28ms
29-11-2023 22:44:53.150 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:44:53.151 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:44:53.154 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 22:44:53.156 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 3ms
29-11-2023 22:44:53.157 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:44:53.161 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 22:44:53.162 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 4ms
29-11-2023 22:44:53.164 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:44:53.168 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 22:44:53.169 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 4ms
29-11-2023 22:44:53.170 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:44:53.174 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 22:44:53.175 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-crypto-rates.sql::raw::includeAll ran successfully in 3ms
29-11-2023 22:44:53.176 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:44:53.177 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 22:44:53.179 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 22:44:53.179 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 22:44:53.270 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 22:44:53.347 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 22:44:53.354 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 22:44:53.641 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 22:44:53.696 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 22:44:54.776 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 22:44:54.812 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 22:44:55.313 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 22:44:55.683 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 22:44:55.690 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 5.389 seconds (process running for 6.096)
29-11-2023 23:01:15.034 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 23:01:15.069 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 23:01:15.076 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 23:01:20.955 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 80692 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 23:01:20.957 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 23:01:21.815 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 23:01:21.887 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 58 ms. Found 4 JPA repository interfaces.
29-11-2023 23:01:22.425 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 23:01:22.437 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 23:01:22.438 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 23:01:22.522 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 23:01:22.523 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1523 ms
29-11-2023 23:01:22.547 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 23:01:22.786 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 23:01:22.788 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 23:01:22.799 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 23:01:22.978 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 23:01:23.187 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:01:23.190 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:01:23.194 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:01:23.196 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:01:23.201 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:01:23.201 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 23:01:23.211 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 23:01:23.215 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:01:23.215 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 23:01:23.217 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:01:23.218 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:01:23.281 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:01:23.281 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 25ms
29-11-2023 23:01:23.286 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:01:23.287 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:01:23.291 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:01:23.292 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 3ms
29-11-2023 23:01:23.293 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:01:23.297 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:01:23.298 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 3ms
29-11-2023 23:01:23.299 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:01:23.302 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:01:23.303 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 4ms
29-11-2023 23:01:23.304 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:01:23.308 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:01:23.308 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-crypto-rates.sql::raw::includeAll ran successfully in 3ms
29-11-2023 23:01:23.309 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:01:23.310 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 23:01:23.312 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:01:23.312 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 23:01:23.383 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 23:01:23.454 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 23:01:23.457 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 23:01:23.820 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 23:01:23.876 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 23:01:24.873 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 23:01:24.926 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 23:01:25.471 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 23:01:25.830 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 23:01:25.836 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 5.504 seconds (process running for 6.497)
29-11-2023 23:03:19.504 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 23:03:19.514 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 23:03:19.524 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 10 ms
29-11-2023 23:03:20.037 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 23:03:20.280 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=? and a1_0.user_id=?
29-11-2023 23:03:20.293 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=? and a1_0.user_id=?
29-11-2023 23:03:20.321 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - insert into transactions (account_id,amount,created,transaction_type,id) values (?,?,?,?,default)
29-11-2023 23:03:20.352 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - update accounts set account_type=?,balance=?,created=?,currency_code=?,interest_compounding_period=?,interest_rate=?,last_interest_application=?,user_id=? where id=?
29-11-2023 23:03:20.357 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.base_currency,c1_0.last_updated,c1_0.rate,c1_0.target_currency from crypto_rates c1_0 where c1_0.target_currency=?
29-11-2023 23:03:20.370 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet].log - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2] with root cause
jakarta.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:482)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:223)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)
	at jdk.proxy2/jdk.proxy2.$Proxy123.findByTargetCurrency(Unknown Source)
	at com.example.cryptoservice.service.CryptoRateServiceImpl.getRateByTargetCurr(CryptoRateServiceImpl.java:17)
	at com.example.cryptoservice.service.TransactionServiceImpl.swap(TransactionServiceImpl.java:128)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699)
	at com.example.cryptoservice.service.TransactionServiceImpl$$SpringCGLIB$$0.swap(<generated>)
	at com.example.cryptoservice.controller.TransactionController.swap(TransactionController.java:54)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
29-11-2023 23:09:08.577 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 23:09:08.596 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 23:09:08.601 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 23:09:13.262 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 80818 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 23:09:13.266 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 23:09:13.984 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 23:09:14.056 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 59 ms. Found 4 JPA repository interfaces.
29-11-2023 23:09:14.606 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 23:09:14.617 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 23:09:14.618 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 23:09:14.707 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 23:09:14.707 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1361 ms
29-11-2023 23:09:14.753 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 23:09:15.038 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 23:09:15.039 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 23:09:15.050 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 23:09:15.252 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 23:09:15.469 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:09:15.473 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:09:15.477 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:09:15.481 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:09:15.487 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:09:15.488 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 23:09:15.499 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 23:09:15.503 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:09:15.504 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 23:09:15.506 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:09:15.507 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:09:15.565 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:09:15.566 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 26ms
29-11-2023 23:09:15.571 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:09:15.573 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:09:15.576 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:09:15.577 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 3ms
29-11-2023 23:09:15.580 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:09:15.584 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:09:15.585 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 4ms
29-11-2023 23:09:15.586 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:09:15.589 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:09:15.590 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 3ms
29-11-2023 23:09:15.592 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:09:15.596 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:09:15.597 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-crypto-rates.sql::raw::includeAll ran successfully in 3ms
29-11-2023 23:09:15.598 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:09:15.599 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 23:09:15.600 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:09:15.601 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 23:09:15.674 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 23:09:15.762 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 23:09:15.765 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 23:09:16.066 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 23:09:16.115 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 23:09:17.169 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 23:09:17.203 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 23:09:17.708 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 23:09:18.018 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 23:09:18.026 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 5.378 seconds (process running for 6.008)
29-11-2023 23:09:24.475 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 23:09:24.476 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 23:09:24.478 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 2 ms
29-11-2023 23:09:24.743 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 23:09:24.872 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=? and a1_0.user_id=?
29-11-2023 23:09:24.881 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=? and a1_0.user_id=?
29-11-2023 23:09:24.899 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - insert into transactions (account_id,amount,created,transaction_type,id) values (?,?,?,?,default)
29-11-2023 23:09:24.911 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.base_currency,c1_0.last_updated,c1_0.rate,c1_0.target_currency from crypto_rates c1_0 where c1_0.target_currency=?
29-11-2023 23:09:24.937 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet].log - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2] with root cause
jakarta.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:482)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:223)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)
	at jdk.proxy2/jdk.proxy2.$Proxy123.findByTargetCurrency(Unknown Source)
	at com.example.cryptoservice.service.CryptoRateServiceImpl.getRateByTargetCurr(CryptoRateServiceImpl.java:17)
	at com.example.cryptoservice.service.TransactionServiceImpl.swap(TransactionServiceImpl.java:129)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.cryptoservice.service.TransactionServiceImpl$$SpringCGLIB$$0.swap(<generated>)
	at com.example.cryptoservice.controller.TransactionController.swap(TransactionController.java:54)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
29-11-2023 23:11:05.848 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 23:11:05.864 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 23:11:05.865 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 23:11:11.078 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 80837 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 23:11:11.082 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 23:11:12.387 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 23:11:12.645 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 211 ms. Found 4 JPA repository interfaces.
29-11-2023 23:11:13.315 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 23:11:13.329 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 23:11:13.330 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 23:11:13.433 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 23:11:13.433 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 2281 ms
29-11-2023 23:11:13.478 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 23:11:13.745 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 23:11:13.748 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 23:11:13.761 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 23:11:13.981 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 23:11:14.229 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:11:14.232 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:11:14.238 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:11:14.241 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:11:14.247 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:11:14.247 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 23:11:14.262 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 23:11:14.266 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:11:14.267 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 23:11:14.269 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:11:14.270 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:11:14.339 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:11:14.341 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 30ms
29-11-2023 23:11:14.346 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:11:14.348 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:11:14.353 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:11:14.354 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 5ms
29-11-2023 23:11:14.355 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:11:14.362 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:11:14.363 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 6ms
29-11-2023 23:11:14.364 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:11:14.369 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:11:14.371 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 5ms
29-11-2023 23:11:14.373 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:11:14.377 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:11:14.378 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-crypto-rates.sql::raw::includeAll ran successfully in 3ms
29-11-2023 23:11:14.379 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:11:14.380 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 23:11:14.382 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:11:14.382 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 23:11:14.460 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 23:11:14.550 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 23:11:14.554 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 23:11:14.914 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 23:11:14.976 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 23:11:16.076 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 23:11:16.119 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 23:11:16.776 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 23:11:17.185 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 23:11:17.196 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 6.777 seconds (process running for 9.118)
29-11-2023 23:11:23.273 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 23:11:23.274 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 23:11:23.275 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 1 ms
29-11-2023 23:11:23.603 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 23:11:23.961 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=? and a1_0.user_id=?
29-11-2023 23:11:23.976 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=? and a1_0.user_id=?
29-11-2023 23:11:24.014 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - insert into transactions (account_id,amount,created,transaction_type,id) values (?,?,?,?,default)
29-11-2023 23:11:24.036 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.base_currency,c1_0.last_updated,c1_0.rate,c1_0.target_currency from crypto_rates c1_0 where c1_0.target_currency=?
29-11-2023 23:11:24.055 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet].log - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2] with root cause
jakarta.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:482)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:223)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)
	at jdk.proxy2/jdk.proxy2.$Proxy123.findByTargetCurrency(Unknown Source)
	at com.example.cryptoservice.service.CryptoRateServiceImpl.getRateByTargetCurr(CryptoRateServiceImpl.java:17)
	at com.example.cryptoservice.service.TransactionServiceImpl.swap(TransactionServiceImpl.java:129)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.cryptoservice.service.TransactionServiceImpl$$SpringCGLIB$$0.swap(<generated>)
	at com.example.cryptoservice.controller.TransactionController.swap(TransactionController.java:54)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
29-11-2023 23:18:44.001 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 23:18:44.035 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 23:18:44.040 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 23:18:49.838 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 80897 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 23:18:49.842 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 23:18:50.530 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 23:18:50.601 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 58 ms. Found 4 JPA repository interfaces.
29-11-2023 23:18:51.154 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 23:18:51.167 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 23:18:51.167 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 23:18:51.255 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 23:18:51.256 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1355 ms
29-11-2023 23:18:51.291 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 23:18:51.551 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 23:18:51.552 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 23:18:51.562 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 23:18:51.743 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 23:18:51.966 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:18:51.969 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:18:51.973 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:18:51.977 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:18:51.981 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:18:51.981 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 23:18:51.993 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 23:18:51.997 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:18:51.998 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 23:18:52.001 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:18:52.003 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:18:52.060 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:18:52.061 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 26ms
29-11-2023 23:18:52.065 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:18:52.066 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:18:52.069 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:18:52.070 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 2ms
29-11-2023 23:18:52.071 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:18:52.075 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:18:52.076 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 4ms
29-11-2023 23:18:52.078 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:18:52.082 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:18:52.083 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 4ms
29-11-2023 23:18:52.084 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:18:52.088 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:18:52.089 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-crypto-rates.sql::raw::includeAll ran successfully in 3ms
29-11-2023 23:18:52.090 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:18:52.091 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 23:18:52.093 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:18:52.093 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 23:18:52.271 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 23:18:52.380 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 23:18:52.384 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 23:18:52.723 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 23:18:52.781 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 23:18:53.821 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 23:18:53.857 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 23:18:54.414 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 23:18:54.808 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 23:18:54.815 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 5.572 seconds (process running for 6.367)
29-11-2023 23:19:03.191 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 23:19:03.196 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 23:19:03.198 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 2 ms
29-11-2023 23:19:03.446 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 23:19:03.583 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=? and a1_0.user_id=?
29-11-2023 23:19:03.592 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=? and a1_0.user_id=?
29-11-2023 23:19:03.602 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet].log - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not convert 'com.example.cryptoservice.domain.CurrencyCode' to 'java.lang.String' using 'org.hibernate.type.descriptor.java.StringJavaType' to wrap] with root cause
org.hibernate.HibernateException: Could not convert 'com.example.cryptoservice.domain.CurrencyCode' to 'java.lang.String' using 'org.hibernate.type.descriptor.java.StringJavaType' to wrap
	at org.hibernate.type.descriptor.java.JavaTypeHelper.unknownWrap(JavaTypeHelper.java:28)
	at org.hibernate.type.descriptor.java.AbstractClassJavaType.unknownWrap(AbstractClassJavaType.java:116)
	at org.hibernate.type.descriptor.java.StringJavaType.wrap(StringJavaType.java:117)
	at org.hibernate.type.descriptor.java.StringJavaType.coerce(StringJavaType.java:135)
	at org.hibernate.type.descriptor.java.StringJavaType.coerce(StringJavaType.java:27)
	at org.hibernate.query.internal.QueryParameterBindingImpl.coerce(QueryParameterBindingImpl.java:145)
	at org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:112)
	at org.hibernate.query.spi.AbstractCommonQueryContract.setParameter(AbstractCommonQueryContract.java:1037)
	at org.hibernate.query.spi.AbstractSelectionQuery.setParameter(AbstractSelectionQuery.java:846)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.setParameter(QuerySqmImpl.java:1303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.setParameter(QuerySqmImpl.java:129)
	at org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:318)
	at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$3(QueryParameterSetter.java:115)
	at org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$1.execute(QueryParameterSetter.java:140)
	at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:115)
	at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:84)
	at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:76)
	at org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:98)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.invokeBinding(PartTreeJpaQuery.java:337)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.createQuery(PartTreeJpaQuery.java:247)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.doCreateQuery(PartTreeJpaQuery.java:113)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:239)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:223)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)
	at jdk.proxy2/jdk.proxy2.$Proxy123.findByBaseCurrencyAndTargetCurrency(Unknown Source)
	at com.example.cryptoservice.service.CryptoRateServiceImpl.getRate(CryptoRateServiceImpl.java:18)
	at com.example.cryptoservice.service.TransactionServiceImpl.swap(TransactionServiceImpl.java:116)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.cryptoservice.service.TransactionServiceImpl$$SpringCGLIB$$0.swap(<generated>)
	at com.example.cryptoservice.controller.TransactionController.swap(TransactionController.java:54)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
29-11-2023 23:20:53.478 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.destroy - Closing JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 23:20:53.514 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
29-11-2023 23:20:53.519 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
29-11-2023 23:20:58.670 [main] INFO  c.e.c.CryptoServiceApplication.logStarting - Starting CryptoServiceApplication using Java 17.0.1 with PID 80922 (/Users/allencooper/IdeaProjects/CryptoService/target/classes started by allencooper in /Users/allencooper/IdeaProjects/CryptoService)
29-11-2023 23:20:58.674 [main] INFO  c.e.c.CryptoServiceApplication.logStartupProfileInfo - No active profile set, falling back to 1 default profile: "default"
29-11-2023 23:20:59.339 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
29-11-2023 23:20:59.417 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate.registerRepositoriesIn - Finished Spring Data repository scanning in 66 ms. Found 4 JPA repository interfaces.
29-11-2023 23:20:59.999 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
29-11-2023 23:21:00.011 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
29-11-2023 23:21:00.012 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/10.1.15]
29-11-2023 23:21:00.096 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
29-11-2023 23:21:00.096 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1369 ms
29-11-2023 23:21:00.143 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
29-11-2023 23:21:00.385 [main] INFO  com.zaxxer.hikari.pool.HikariPool.checkFailFast - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:test user=CRYPTO
29-11-2023 23:21:00.388 [main] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
29-11-2023 23:21:00.399 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration.logDataSources - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:test'
29-11-2023 23:21:00.595 [main] INFO  liquibase.database.log - Set default schema name to PUBLIC
29-11-2023 23:21:00.847 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:21:00.851 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:21:00.857 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:21:00.861 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:21:00.866 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:21:00.867 [main] INFO  liquibase.lockservice.log - Successfully acquired change log lock
29-11-2023 23:21:00.883 [main] INFO  liquibase.changelog.log - Creating database history table with name: PUBLIC.DATABASECHANGELOG
29-11-2023 23:21:00.899 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:21:00.900 [main] INFO  liquibase.changelog.log - Reading from PUBLIC.DATABASECHANGELOG
29-11-2023 23:21:00.903 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:21:00.904 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:21:00.967 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:21:00.968 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/create-tables.sql::raw::includeAll ran successfully in 27ms
29-11-2023 23:21:00.972 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:21:00.973 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:21:00.977 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:21:00.977 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-users.sql::raw::includeAll ran successfully in 3ms
29-11-2023 23:21:00.979 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:21:00.985 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:21:00.986 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-accounts.sql::raw::includeAll ran successfully in 6ms
29-11-2023 23:21:00.987 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:21:00.991 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:21:00.992 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-transactions.sql::raw::includeAll ran successfully in 4ms
29-11-2023 23:21:00.994 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:21:00.998 [main] INFO  liquibase.changelog.log - Custom SQL executed
29-11-2023 23:21:00.999 [main] INFO  liquibase.changelog.log - ChangeSet db/changelog/changeset/add-crypto-rates.sql::raw::includeAll ran successfully in 4ms
29-11-2023 23:21:01.001 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:21:01.002 [main] INFO  liquibase.log - Update command completed successfully.
29-11-2023 23:21:01.004 [main] INFO  liquibase.executor.log - Changelog query completed.
29-11-2023 23:21:01.004 [main] INFO  liquibase.lockservice.log - Successfully released change log lock
29-11-2023 23:21:01.078 [main] INFO  o.h.jpa.internal.util.LogHelper.logPersistenceUnitInformation - HHH000204: Processing PersistenceUnitInfo [name: default]
29-11-2023 23:21:01.144 [main] INFO  org.hibernate.Version.logVersion - HHH000412: Hibernate ORM core version 6.2.13.Final
29-11-2023 23:21:01.147 [main] INFO  org.hibernate.cfg.Environment.<clinit> - HHH000406: Using bytecode reflection optimizer
29-11-2023 23:21:01.466 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo.addTransformer - No LoadTimeWeaver setup: ignoring JPA class transformer
29-11-2023 23:21:01.518 [main] WARN  org.hibernate.orm.deprecation.constructDialect - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
29-11-2023 23:21:02.527 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator.initiateService - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
29-11-2023 23:21:02.563 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory - Initialized JPA EntityManagerFactory for persistence unit 'default'
29-11-2023 23:21:03.103 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration.openEntityManagerInViewInterceptor - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
29-11-2023 23:21:03.454 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
29-11-2023 23:21:03.462 [main] INFO  c.e.c.CryptoServiceApplication.logStarted - Started CryptoServiceApplication in 5.313 seconds (process running for 6.041)
29-11-2023 23:21:08.487 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
29-11-2023 23:21:08.488 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
29-11-2023 23:21:08.490 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 2 ms
29-11-2023 23:21:08.740 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.login,c1_0.password,c1_0.user_role from crypto_users c1_0 where c1_0.id=?
29-11-2023 23:21:08.872 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=? and a1_0.user_id=?
29-11-2023 23:21:08.881 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select a1_0.id,a1_0.account_type,a1_0.balance,a1_0.created,a1_0.currency_code,a1_0.interest_compounding_period,a1_0.interest_rate,a1_0.last_interest_application,a1_0.user_id from accounts a1_0 where a1_0.id=? and a1_0.user_id=?
29-11-2023 23:21:08.884 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - select c1_0.id,c1_0.base_currency,c1_0.last_updated,c1_0.rate,c1_0.target_currency from crypto_rates c1_0 where c1_0.base_currency=? and c1_0.target_currency=?
29-11-2023 23:21:08.906 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - insert into transactions (account_id,amount,created,transaction_type,id) values (?,?,?,?,default)
29-11-2023 23:21:08.913 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - insert into transactions (account_id,amount,created,transaction_type,id) values (?,?,?,?,default)
29-11-2023 23:21:08.923 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - update accounts set account_type=?,balance=?,created=?,currency_code=?,interest_compounding_period=?,interest_rate=?,last_interest_application=?,user_id=? where id=?
29-11-2023 23:21:08.925 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL.logStatement - update accounts set account_type=?,balance=?,created=?,currency_code=?,interest_compounding_period=?,interest_rate=?,last_interest_application=?,user_id=? where id=?
